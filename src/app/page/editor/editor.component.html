<div class="h-full m-4 p-4">
  <div class="flex justify-end space-x-2 mb-4">
    <button (click)="onOptionClick()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
      {{ option }}
    </button>
    <button (click)="onAddClick()" title="Save the note" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
      <mat-icon>save</mat-icon>
    </button>
    <div class="relative">
      <button (click)="onClickTags()" title="Tags" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">
        <mat-icon>queue_add</mat-icon>
      </button>
      <textarea
        *ngIf="showTags"
        placeholder="Add tags here, comma-separated"
        class="absolute top-10 right-0 bg-white border rounded p-2 text-sm shadow-md focus:outline-none"
        [value]="tagNameList"
        (input)="onUpdateTags($event)"
        rows="1"
      ></textarea>
    </div>
    <button (click)="onReminderClick()" [title]="!setForReminder ? 'Set reminder' : 'Clear reminder'" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">
      <mat-icon>{{ !setForReminder ? 'alarm_add' : 'alarm_off' }}</mat-icon>
    </button>
    <button (click)="onCompletionClick()" [title]="!completionStatus ? 'Status: Pending' : 'Status: Done'" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded">
      <mat-icon>{{ !completionStatus ? 'timelapse' : 'done_all' }}</mat-icon>
    </button>
  </div>

  <div class="bg-white rounded-lg shadow-md p-4">
    <div *ngIf="option !== 'Editor'" class="mb-4">
      <input
        type="text"
        class="w-full p-3 border rounded-lg text-lg focus:outline-none focus:ring focus:border-blue-300"
        [(ngModel)]="title"
        placeholder="Enter a title for your note (must be unique)"
      />
      <textarea
        [(ngModel)]="markdownText"
        placeholder="Enter your note here (supports markdown)"
        class="w-full h-64 p-3 border rounded-lg mt-2 resize-vertical focus:outline-none focus:ring focus:border-blue-300"
      ></textarea>
    </div>
    <div
      *ngIf="option !== 'MD Preview'"
      class="prose max-w-none"
      [innerHtml]="convertedMarkdown"
    ></div>
  </div>
</div>